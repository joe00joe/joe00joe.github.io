《调试九法：软硬件错误排查之道》中提出了以下几项排错要决：

-  **理解系统**：通过查阅手册等方式，理解系统的工作流程，清楚正常非正常情形
-  **分而治之**：过反复地把问题分成好的一半和坏的一半，来缩小搜索范围，然后进一步研究有问题的那一半。
-  **一次只改变一处**：  只改变一个地方，以便判断是否此处产生了影响。如果没有什么效果，应立即把它改回来，避免引入新的错误

**在网络工程领域，这些原则依然可以指导我们TShoot**。一个常见的网络问题: 为什么我的电脑不能访问XXX网站？解决此问题，首先要理解一次web交互中发生了什么。具体如下：

> 1. **用户请求**：用户在浏览器地址栏输入网址，或者点击网页上的链接。浏览器解析输入的 URL（统一资源定位符），确定要访问的服务器地址和请求的资源路径。
> 2. **DNS 解析**：浏览器首先检查本地的 DNS 缓存，看是否有该网址对应的 IP 地址。如果没有，它会向本地 DNS 服务器发送查询请求。本地 DNS 服务器如果也没有缓存记录，会通过递归或迭代查询的方式，从根 DNS 服务器开始，逐步查找顶级域名服务器、权威 DNS 服务器，最终获取到目标网址对应的 IP 地址，并返回给浏览器。
> 3. **建立连接**：浏览器使用获取到的 IP 地址，通过 TCP 协议与 Web 服务器建立连接。这个过程包括三次握手，即客户端发送 SYN 包，服务器收到后回复 SYN-ACK 包，客户端再发送 ACK 包，从而建立起可靠的连接通道。
> 4. **发送请求**：连接建立后，浏览器按照 HTTP 协议的格式，构建请求报文，包含请求方法（如 GET、POST 等）、请求的资源路径、HTTP 版本等信息，并将其发送给服务器。
> 5. **服务器处理请求**：Web 服务器接收到请求报文后，根据请求的路径和方法，找到对应的资源或执行相应的处理逻辑。
> 6. **返回响应**：服务器处理完请求后，构建 HTTP 响应报文，包含响应状态码（如 200 表示成功，404 表示未找到资源等）、响应头（包含如内容类型、缓存控制等信息）以及响应体（即请求的资源内容，如 HTML 页面、图片、数据等），并将其发送回浏览器。
> 7. **浏览器渲染**：浏览器接收到响应报文后，首先检查响应状态码。如果是成功的响应（如 200），则根据响应头中的内容类型，开始解析和渲染响应体。
> 8. **关闭连接**：在数据传输完成后，浏览器和服务器之间的 TCP 连接可以根据情况选择关闭。

然后，可以tcp/ip协议栈分层思想定位问题出现在哪个层面。比如，可以ping对端ip地址（nslookup解析域名得到，若解析失败，则域名解析有问题）。如果ping得通，说明网络接口层及网络层没有问题。问题出现在传输层（tcp）或应用层（http）。随即，可利用telnet或curl依次测试，能否正常建立连接和获得http响应。最后，修改网络配置解决己定位的问题。修改也有一些准则：1）一次只改一处并确保修改有效；2）若涉及多处修改，把你的操作、操作的顺序和结果全部记录下来，以便回退；3）网络配置能增不改，能改不删，最大限度避免影响其它的网络业务。

