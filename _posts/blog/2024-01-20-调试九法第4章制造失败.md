### 1.制造失败

目的：观察它、查找原因和判断是否修复

方式： 仔细观察你做了什么，然后再做一次，并且记下你做的每个步骤。然后，按照你自己所写的步骤去做，确定这样做确实导致了错误。

在调试故障的时候，如果需要手工执行很多步骤，那么使这个过程自动化会很有帮助。如果软件在高流量下发生错误，应该运行一个压测工具来模拟负载，这样就可以引发错误。

### 2.不要模拟失败

引发失败(正确)和模拟失败(错误)这二者之间存在着非常大的差别。模拟那些导致失败发生的条件。但是，不要试图模拟失败机理本身。

如果你猜测失败机理，模拟往往不会成功。原因通常有两个，要么你的猜测是错误的要么测试改变了条件。。举个例子，如果你的字处理程序(这是你要拿来与Microsoft媲美的程序)在保存文件的时候总是删除图片，你可能猜测这个问题是在写文件时发生的。于是你编写了一个测试程序，它不断地向磁盘写文件，最后操作系统死机了。这样，你得到的结论就是Windows 的速度太慢了，

应所做的改变应该是只影响错误发生的频率，而不影响错误的发生方式。使用自动化测试重复失败的条件（配置、事件序列等）

### 3.如何处理间歇性bug

关键问题在于你并没有完全弄清楚失败是如何发生的。你知道你做了什么，但并不知道完整的、准确的条件。还有其他你没注意到或无战控制的因素，如初始条件、输入数据、时序、多线程同步等。如果你能够控制所有这些条件，那么就可以一直使错误发生。

有时，你会发现当你控制某个条件的时候，问题消失了。这时你就发现了是什么导致了失败。

如果故障是由某个低概率的事件(例如噪声峰值)引起的，那么问题就是间歇性的，这时可以通过增加条件(噪声)的概率，重现失败。

### 4.如果做了所有尝试之后问题仍然间歇性发生

**仔细观察失败** 。方t去就是让系统在运行的时候尽可能多地输出信息，并把它们记录到"调试日志"文件中。

**不要盲目相信统计数据，需聚焦**， 当你捕获到足够多的信息时，就可以确定哪些因素总是与bug有关，或者哪些因素从来都与bug无关。在查找问题根源的时候，这些因素是需要重点关注。

**是己修复bug ，还是仅仅由于运气好，它不再发生了** 找到一个总是与失败有关的事件序列。即使这个序列本身就是间歇性的，但当它发生时，100%会发生失败。然后，当你认为已修复bug时，就可以运行测试，直到这个序列出现，如果没有发生失败，那么你确实已修复了bug。



